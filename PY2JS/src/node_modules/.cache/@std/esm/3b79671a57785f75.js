"main";_577‍.e([["error",()=>error]]);let readFile;_577‍.w('fs',[["readFile",function(v){readFile=v}]]);let Scanner;_577‍.w('./Scanner.mjs',[["default",function(v){Scanner=v}]]);


let hadError = false


const runFile = params => {
    readFile(params, 'utf-8', (err, data) => {
        if (err) process.exit(65)
        run(data)
    })
    if (hadError) process.exit(65)
}

const runPrompt = () => {
    for (; ;) {
        console.log('>')
        run(prompt())
        hadError = false
    }
}

const run = params => {
    const scanner = new Scanner(params)
    let tokens = scanner.scanTokens()
    tokens.forEach(element => {
        console.log(element)
    });
}

const error = (line, message) => {
    report(line, "", message)
}

const report = (line, where, message) => {
    console.error("[line " + line + " ] Error" + where + ": " + message)
    hadError = true
}


if (process.argv.length > 1) {
    console.log('Usage: programConverter [script]')
    process.exit(64)
} else if (process.argv.length === 1) {
    runFile(process.argv[2])
} else {
    runPrompt()
}
